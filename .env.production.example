# ==============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION (EXAMPLE)
# ==============================================================================
# This file provides a template for production-ready configuration.
# Copy this file to your secret management system or CI/CD environment variables.
# DO NOT commit real production secrets to version control.
# ==============================================================================

# ------------------------------------------------------------------------------
# Application Environment
# ------------------------------------------------------------------------------
NODE_ENV=production

# ------------------------------------------------------------------------------
# Service Ports
# ------------------------------------------------------------------------------
# In containerized or serverless deployments, PORT is often provided by platform
PORT=3000

# ------------------------------------------------------------------------------
# API URLs
# ------------------------------------------------------------------------------
# Server-side API URL (used by Next.js SSR, internal service calls)
API_BASE_URL=https://api.example.com

# Client-side API URL published to browser
NEXT_PUBLIC_API_BASE_URL=https://api.example.com

# ------------------------------------------------------------------------------
# PostgreSQL Database
# ------------------------------------------------------------------------------
# Typically sourced from a managed database service (RDS, Aurora, etc.)
DATABASE_URL=postgresql://acme_prod_user:secure-password@db.example.com:5432/acme_prod

# Optional: Test database for integration testing in production-like environments
# TEST_DATABASE_URL=postgresql://acme_ci_user:secure-password@ci-db.example.com:5432/acme_ci

# ------------------------------------------------------------------------------
# JWT Authentication
# ------------------------------------------------------------------------------
# SECURITY: Generate strong, random secrets and rotate them periodically
JWT_ACCESS_TOKEN_SECRET=replace-with-strong-base64-secret
JWT_ACCESS_TOKEN_EXPIRES_IN=900

JWT_REFRESH_TOKEN_SECRET=replace-with-strong-base64-secret
JWT_REFRESH_TOKEN_EXPIRES_IN=604800

JWT_AUDIENCE=acme.api
JWT_ISSUER=acme.api

# ------------------------------------------------------------------------------
# Password Hashing
# ------------------------------------------------------------------------------
# Increase salt rounds for production (12-14 recommended)
BCRYPT_SALT_ROUNDS=12

# ------------------------------------------------------------------------------
# User Management
# ------------------------------------------------------------------------------
DEFAULT_USER_ROLE=client

# ------------------------------------------------------------------------------
# AWS S3 Storage
# ------------------------------------------------------------------------------
# Use IAM roles or dedicated IAM users with least privilege
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=replace-with-iam-access-key
AWS_SECRET_ACCESS_KEY=replace-with-iam-secret-key
AWS_S3_BUCKET_NAME=acme-prod-uploads

# Optional: Custom endpoint for S3-compatible storage providers
# AWS_S3_ENDPOINT=https://s3.custom-provider.com

# Use virtual-hosted-style URLs in AWS (false). Set to true for custom providers
AWS_S3_FORCE_PATH_STYLE=false

# Presigned URL expiration time in seconds (e.g., 15 minutes)
S3_PRESIGNED_URL_EXPIRATION=900

# ------------------------------------------------------------------------------
# LLM Provider Configuration
# ------------------------------------------------------------------------------
LLM_PROVIDER=openai
LLM_DEFAULT_LOCALE=en
LLM_SUPPORTED_LOCALES=en,fr,ar
LLM_MAX_PROMPT_LENGTH=2000
LLM_MAX_CONTEXT_MESSAGES=50
LLM_GUARDRAILS_BLOCKED=

# OpenAI
OPENAI_API_KEY=replace-with-openai-api-key
OPENAI_ORG_ID=replace-with-openai-org-id
OPENAI_MODEL=gpt-4o-mini

# Anthropic (optional)
# ANTHROPIC_API_KEY=replace-with-anthropic-key
# ANTHROPIC_MODEL=claude-3-5-sonnet-20240620

# Azure OpenAI (optional)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_API_KEY=replace-with-azure-key
# AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# ------------------------------------------------------------------------------
# Logging & Monitoring
# ------------------------------------------------------------------------------
# LOG_LEVEL=info
# LOG_FORMAT=json
# LOG_SAMPLE_RATE=1.0

# Observability integration
# OTEL_EXPORTER_OTLP_ENDPOINT=https://otel-collector.example.com
# OTEL_SERVICE_NAME=acme-api

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=https://app.example.com,https://admin.example.com

# ------------------------------------------------------------------------------
# Rate Limiting (Optional)
# ------------------------------------------------------------------------------
# RATE_LIMIT_TTL=60
# RATE_LIMIT_MAX=300

# ------------------------------------------------------------------------------
# Feature Flags (Optional)
# ------------------------------------------------------------------------------
# FEATURE_NEW_DASHBOARD=true
# FEATURE_BETA_ACCESS=false

# ------------------------------------------------------------------------------
# Misc Configuration
# ------------------------------------------------------------------------------
# APP_NAME=Acme API (Production)
# GLOBAL_PREFIX=api
# NEXT_PUBLIC_ANALYTICS_KEY=replace-with-public-analytics-key
